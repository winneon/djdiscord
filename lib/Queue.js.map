{"version":3,"sources":["../src/Queue.ts","Queue.js"],"names":["ytdl","require","Logger_1","Request_1","Utils_1","Queue","bot","list","isPlaying","started","veto","position","user","id","requester","undefined","requests","request","push","link","url","isUri","that","Promise","resolve","reject","getInfo","error","info","message","indexOf","Error","Array","split","duration","sec","min","length","parseInt","pop","default","title","fulltitle","shortTitle","i","splice","setTimeout","_checkQueue","_remRequestCallback","either","some","Number","isNaN","obj","then","getRequests","count","run","catch","voice","client","voiceConnection","setPlayingGame","console","stopPlaying","playing","_queryQueue","loadMessage","stream","on","format","deleteMessage","announce","remRequest","playRawStream","intent","secondsAsString","streamTime","toString","durationAsString","Object","defineProperty","exports","value"],"mappings":"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","file":"Queue.js","sourceRoot":"."}