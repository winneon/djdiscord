{"version":3,"sources":["Commands/Add.ts","Commands/Add.js"],"names":[],"mappings":"AAAA;;;;;;;AAGA,IAAI,KAAU,QAAQ,IAAR,CAAd;;IAOA,G;AAQC,iBAAY,KAAZ,EAAwB;AAAA;;AAPxB,aAAA,KAAA,GAAgB,cAAhB;AACA,aAAA,WAAA,GAAsB,6BAAtB;AACA,aAAA,IAAA,GAAe,CAAf;AACA,aAAA,KAAA,GAAiB,KAAjB;AAKC,aAAK,KAAL,GAAa,KAAb;AACA;;;;kCAES,G,EAAU,O,EAAc,I,EAAc;AAC/C,gBAAI,MAAJ,CAAW,WAAX,CAAuB,QAAQ,OAA/B;AAEA,iBAAK,KAAL,CAAW,UAAX,CAAsB,QAAQ,WAAR,EAAqB,KAArB,CAA2B,KAAK,CAAL,CAA3B,IAAsC,KAAK,CAAL,CAAtC,GAAgD,KAAK,IAAL,CAAU,GAAV,CAAtE,EAAsF,QAAQ,MAA9F,EAAsG,UAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAAyB;AAC9H,oBAAI,KAAJ,EAAU;AACT,wBAAI,UAAU,SAAd,EAAwB;AACvB,4BAAI,WAAJ,CAAgB,QAAQ,OAAxB,EAAiC;AAChC,qCAAS;AADuB,yBAAjC;AAGA,qBAJD,MAIO;AACN,4BAAI,WAAJ,CAAgB,QAAQ,OAAxB,EAAiC;AAChC,qCAAS,UAAU,KAAV,GAAkB;AADK,yBAAjC;AAGA;AACD,iBAVD,MAUO;AACN,wBAAI,WAAJ,CAAgB,QAAQ,OAAxB,EAAiC;AAChC,iCAAS,gBAAgB,QAAQ,UAAR,GAAqB,QAAQ,UAA7B,GAA0C,QAAQ,KAAlE,IAA2E,IAA3E,GAAkF,QAAQ,gBAA1F,GAA6G,kBAA7G,GAAkI,QAAlI,GAA6I;AADtH,qBAAjC;AAGA;AACD,aAhBD;AAiBA;;;;;;AAGF,OAAA,cAAA,CAAA,OAAA,EAAA,YAAA,EAAA,EAAA,OAAA,IAAA,EAAA;ACVA,QAAQ,OAAR,GDUe,GCVf","file":"Commands/Add.js","sourcesContent":["\"use strict\";\n\n// Native Node Imports\nlet fs: any = require(\"fs\");\n\n// Local TS Imports\nimport Bot from \"../Bot\";\nimport Queue from \"../Queue\";\nimport Command from \"../Interfaces/Command\";\n\nclass Add implements Command {\n\tusage: string = \"%cmd% <link>\";\n\tdescription: string = \"Add a song to the dJ queue.\";\n\targs: number = 1;\n\tstaff: boolean = false;\n\n\tqueue: Queue;\n\n\tconstructor(queue: Queue){\n\t\tthis.queue = queue;\n\t}\n\n\tonCommand(bot: Bot, message: any, args: string[]): void {\n\t\tbot.client.startTyping(message.channel);\n\n\t\tthis.queue.addRequest(require(\"valid-url\").isUri(args[0]) ? args[0] : args.join(\" \"), message.author, (error, request, position) => {\n\t\t\tif (error){\n\t\t\t\tif (error === \"invalid\"){\n\t\t\t\t\tbot.sendMessage(message.channel, {\n\t\t\t\t\t\tmessage: \"You provided an invalid URL. Consult the youtube-dl docs for a list of supported sites.\\nhttps://rg3.github.io/youtube-dl/supportedsites.html\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tbot.sendMessage(message.channel, {\n\t\t\t\t\t\tmessage: \"```\\n\" + error + \"\\n```\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbot.sendMessage(message.channel, {\n\t\t\t\t\tmessage: \"Enqueued `\" + (request.shortTitle ? request.shortTitle : request.title) + \" [\" + request.durationAsString + \"]` at position `\" + position + \"`.\"\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport default Add;\n","\"use strict\";\n// Native Node Imports\nlet fs = require(\"fs\");\nclass Add {\n    constructor(queue) {\n        this.usage = \"%cmd% <link>\";\n        this.description = \"Add a song to the dJ queue.\";\n        this.args = 1;\n        this.staff = false;\n        this.queue = queue;\n    }\n    onCommand(bot, message, args) {\n        bot.client.startTyping(message.channel);\n        this.queue.addRequest(require(\"valid-url\").isUri(args[0]) ? args[0] : args.join(\" \"), message.author, (error, request, position) => {\n            if (error) {\n                if (error === \"invalid\") {\n                    bot.sendMessage(message.channel, {\n                        message: \"You provided an invalid URL. Consult the youtube-dl docs for a list of supported sites.\\nhttps://rg3.github.io/youtube-dl/supportedsites.html\"\n                    });\n                }\n                else {\n                    bot.sendMessage(message.channel, {\n                        message: \"```\\n\" + error + \"\\n```\"\n                    });\n                }\n            }\n            else {\n                bot.sendMessage(message.channel, {\n                    message: \"Enqueued `\" + (request.shortTitle ? request.shortTitle : request.title) + \" [\" + request.durationAsString + \"]` at position `\" + position + \"`.\"\n                });\n            }\n        });\n    }\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Add;\n"],"sourceRoot":"/source/"}