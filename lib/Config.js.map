{"version":3,"sources":["Config.ts","Config.js"],"names":[],"mappings":"AAAA;;;;;;;AAGA,IAAI,OAAY,QAAQ,MAAR,CAAhB;AACA,IAAI,KAAU,QAAQ,IAAR,CAAd;;IAEA,M;AAUC,sBAAA;AAAA;;AACC,YAAI;AACH,gBAAI,SAAc,QAAQ,gBAAR,CAAlB;AAEA,iBAAK,aAAL,GAAqB,OAAO,cAA5B;AACA,iBAAK,KAAL,GAAa,OAAO,KAApB;AACA,iBAAK,SAAL,GAAiB,OAAO,UAAxB;AAEA,iBAAK,MAAL,GAAc;AACb,sBAAM,SADO;AAEb,uBAAO;AAFM,aAAd;AAIC,SAXF,CAWE,OAAO,CAAP,EAAS;AACV,oBAAQ,KAAR,CAAc,iFAAd;AACA,oBAAQ,IAAR,CAAa,CAAb;AACA;AAED,YAAI,OAAe,KAAK,IAAL,CAAU,SAAV,EAAqB,IAArB,EAA2B,aAA3B,CAAnB;AAEA,YAAI,CAAC,GAAG,UAAH,CAAc,IAAd,CAAL,EAAyB;AACxB,eAAG,aAAH,CAAiB,IAAjB,EAAuB,KAAK,SAAL,CAAe,EAAf,EAAoB,IAApB,EAA0B,IAA1B,CAAvB;AACA;AAED,YAAI;AACH,gBAAI,OAAY,QAAQ,IAAR,CAAhB;AAEA,iBAAK,MAAL,CAAY,IAAZ,GAAmB,KAAK,IAAL,IAAa,SAAhC;AACA,iBAAK,MAAL,CAAY,KAAZ,GAAoB,KAAK,KAAL,IAAc,SAAlC;AACC,SALF,CAKE,OAAO,CAAP,EAAS;AACV,oBAAQ,KAAR,CAAc,sEAAd;AACA,oBAAQ,KAAR,CAAc,CAAd;AACA,oBAAQ,IAAR,CAAa,CAAb;AACA;AACD;;;;qCAES;AACT,eAAG,aAAH,CAAiB,KAAK,IAAL,CAAU,SAAV,EAAqB,IAArB,EAA2B,aAA3B,CAAjB,EAA4D,KAAK,SAAL,CAAe,KAAK,MAApB,EAA4B,IAA5B,EAAkC,IAAlC,CAA5D;AACA;;;;;;AAGF,OAAA,cAAA,CAAA,OAAA,EAAA,YAAA,EAAA,EAAA,OAAA,IAAA,EAAA;AChBA,QAAQ,OAAR,GDgBe,MChBf","file":"Config.js","sourcesContent":["\"use strict\";\n\n// Native Node Imports\nlet path: any = require(\"path\");\nlet fs: any = require(\"fs\");\n\nclass Config {\n\tcommandPrefix: string;\n\ttoken: string;\n\tstaffRole: string;\n\n\tlinked: {\n\t\ttext: string,\n\t\tvoice: string\n\t};\n\n\tconstructor(){\n\t\ttry {\n\t\t\tlet config: any = require(\"../config.json\");\n\n\t\t\tthis.commandPrefix = config.command_prefix;\n\t\t\tthis.token = config.token;\n\t\t\tthis.staffRole = config.staff_role;\n\n\t\t\tthis.linked = {\n\t\t\t\ttext: undefined,\n\t\t\t\tvoice: undefined\n\t\t\t};\n\t\t} catch (e){\n\t\t\tconsole.error(\"The provided config is invalid. Please create a proper config from the example.\");\n\t\t\tprocess.exit(1);\n\t\t}\n\n\t\tlet file: string = path.join(__dirname, \"..\", \"linked.json\");\n\n\t\tif (!fs.existsSync(file)){\n\t\t\tfs.writeFileSync(file, JSON.stringify({ }, null, \"\\t\"));\n\t\t}\n\n\t\ttry {\n\t\t\tlet defs: any = require(file);\n\n\t\t\tthis.linked.text = defs.text || undefined;\n\t\t\tthis.linked.voice = defs.voice || undefined;\n\t\t} catch (e){\n\t\t\tconsole.error(\"The linked.json file is invalid. Please delete it before continuing.\");\n\t\t\tconsole.error(e);\n\t\t\tprocess.exit(1);\n\t\t}\n\t}\n\n\tsaveLinked(): void {\n\t\tfs.writeFileSync(path.join(__dirname, \"..\", \"linked.json\"), JSON.stringify(this.linked, null, \"\\t\"));\n\t}\n}\n\nexport default Config;\n","\"use strict\";\n// Native Node Imports\nlet path = require(\"path\");\nlet fs = require(\"fs\");\nclass Config {\n    constructor() {\n        try {\n            let config = require(\"../config.json\");\n            this.commandPrefix = config.command_prefix;\n            this.token = config.token;\n            this.staffRole = config.staff_role;\n            this.linked = {\n                text: undefined,\n                voice: undefined\n            };\n        }\n        catch (e) {\n            console.error(\"The provided config is invalid. Please create a proper config from the example.\");\n            process.exit(1);\n        }\n        let file = path.join(__dirname, \"..\", \"linked.json\");\n        if (!fs.existsSync(file)) {\n            fs.writeFileSync(file, JSON.stringify({}, null, \"\\t\"));\n        }\n        try {\n            let defs = require(file);\n            this.linked.text = defs.text || undefined;\n            this.linked.voice = defs.voice || undefined;\n        }\n        catch (e) {\n            console.error(\"The linked.json file is invalid. Please delete it before continuing.\");\n            console.error(e);\n            process.exit(1);\n        }\n    }\n    saveLinked() {\n        fs.writeFileSync(path.join(__dirname, \"..\", \"linked.json\"), JSON.stringify(this.linked, null, \"\\t\"));\n    }\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Config;\n"],"sourceRoot":"/source/"}