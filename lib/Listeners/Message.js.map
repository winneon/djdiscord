{"version":3,"sources":["Listeners/Message.ts","Listeners/Message.js"],"names":[],"mappings":"AAAA;;;;;;IAOA,O;AAGC,qBAAY,QAAZ,EAA8B;AAAA;;AAC7B,aAAK,QAAL,GAAgB,QAAhB;AACA;;;;mCAEU,G,EAAU,O,EAAY;AAChC,gBAAI,OAAe,QAAQ,OAA3B;AAEA,gBAAI,KAAK,WAAL,GAAmB,UAAnB,CAA8B,IAAI,MAAJ,CAAW,aAAzC,CAAJ,EAA4D;AAC3D,oBAAI,UAAkB,KAAK,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmB,OAAnB,CAA2B,IAAI,MAAJ,CAAW,aAAtC,EAAqD,EAArD,EAAyD,WAAzD,EAAtB;AACA,oBAAI,OAAiB,KAAK,KAAL,CAAW,GAAX,CAArB;AAEA,qBAAK,MAAL,CAAY,CAAZ,EAAe,CAAf;AAEA,oBAAI,YAAY,MAAhB,EAAuB;;AAEtB,wBAAI,WAAJ,CAAgB,QAAQ,OAAxB,EAAiC;AAChC,iCAAS,KAAK,QAAL,CAAc;AADS,qBAAjC;AAGA,iBALD,MAKO;AACN,wBAAI,OAAO,IAAP,CAAY,KAAK,QAAL,CAAc,QAA1B,EAAoC,OAApC,CAA4C,QAAQ,WAAR,EAA5C,IAAqE,CAAC,CAA1E,EAA4E;AAC3E,4BAAI,KAAK,QAAL,CAAc,QAAd,CAAuB,OAAvB,EAAgC,IAAhC,IAAwC,KAAK,MAAjD,EAAwD;AACvD,oCAAQ,GAAR,CAAY,cAAc,IAAI,MAAJ,CAAW,aAAzB,GAAyC,OAArD;AACA,iCAAK,QAAL,CAAc,QAAd,CAAuB,OAAvB,EAAgC,SAAhC,CAA0C,GAA1C,EAA+C,OAA/C,EAAwD,IAAxD;AACA,yBAHD,MAGO;AACN,gCAAI,WAAJ,CAAgB,QAAQ,OAAxB,EAAiC;AAChC,yCAAS,eAAe,IAAI,MAAJ,CAAW,aAA1B,GAA0C,KAAK,QAAL,CAAc,QAAd,CAAuB,OAAvB,EAAgC,KAAhC,CAAsC,OAAtC,CAA8C,OAA9C,EAAuD,OAAvD,CAA1C,GAA4G;AADrF,6BAAjC;AAGA;AACD,qBATD,MASO;AACN,4BAAI,WAAJ,CAAgB,QAAQ,OAAxB,EAAiC;AAChC,qCAAS,8CAA8C,IAAI,MAAJ,CAAW,aAAzD,GAAyE,+BADlD;AAEhC,qCAAS,QAAQ;AAFe,yBAAjC;AAIA;AACD;AACD;AACD;;;;;;AAGF,OAAA,cAAA,CAAA,OAAA,EAAA,YAAA,EAAA,EAAA,OAAA,IAAA,EAAA;ACTA,QAAQ,OAAR,GDSe,OCTf","file":"Listeners/Message.js","sourcesContent":["\"use strict\";\n\n// Local TS Imports\nimport Bot from \"../Bot\";\nimport Commands from \"../Commands\";\nimport Listener from \"../Interfaces/Listener\";\n\nclass Message implements Listener {\n\tcommands: Commands;\n\n\tconstructor(commands: Commands){\n\t\tthis.commands = commands;\n\t}\n\n\tonBotEvent(bot: Bot, message: any): void {\n\t\tlet text: string = message.content;\n\n\t\tif (text.toLowerCase().startsWith(bot.config.commandPrefix)){\n\t\t\tlet command: string = text.split(\" \")[0].replace(bot.config.commandPrefix, \"\").toLowerCase();\n\t\t\tlet args: string[] = text.split(\" \");\n\n\t\t\targs.splice(0, 1);\n\n\t\t\tif (command === \"help\"){\n\t\t\t\t//this.bot.getBot().deleteMessage(message);\n\t\t\t\tbot.sendMessage(message.channel, {\n\t\t\t\t\tmessage: this.commands.help\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (Object.keys(this.commands.commands).indexOf(command.toLowerCase()) > -1){\n\t\t\t\t\tif (this.commands.commands[command].args <= args.length){\n\t\t\t\t\t\tconsole.log(\"Command: \" + bot.config.commandPrefix + command);\n\t\t\t\t\t\tthis.commands.commands[command].onCommand(bot, message, args);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbot.sendMessage(message.channel, {\n\t\t\t\t\t\t\tmessage: \"```Usage: \" + bot.config.commandPrefix + this.commands.commands[command].usage.replace(\"%cmd%\", command) + \"```\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbot.sendMessage(message.channel, {\n\t\t\t\t\t\tmessage: \"That command doesn't exist! Try running `\" + bot.config.commandPrefix + \"help` for a list of commands.\",\n\t\t\t\t\t\tmention: message.author\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default Message;\n","\"use strict\";\nclass Message {\n    constructor(commands) {\n        this.commands = commands;\n    }\n    onBotEvent(bot, message) {\n        let text = message.content;\n        if (text.toLowerCase().startsWith(bot.config.commandPrefix)) {\n            let command = text.split(\" \")[0].replace(bot.config.commandPrefix, \"\").toLowerCase();\n            let args = text.split(\" \");\n            args.splice(0, 1);\n            if (command === \"help\") {\n                //this.bot.getBot().deleteMessage(message);\n                bot.sendMessage(message.channel, {\n                    message: this.commands.help\n                });\n            }\n            else {\n                if (Object.keys(this.commands.commands).indexOf(command.toLowerCase()) > -1) {\n                    if (this.commands.commands[command].args <= args.length) {\n                        console.log(\"Command: \" + bot.config.commandPrefix + command);\n                        this.commands.commands[command].onCommand(bot, message, args);\n                    }\n                    else {\n                        bot.sendMessage(message.channel, {\n                            message: \"```Usage: \" + bot.config.commandPrefix + this.commands.commands[command].usage.replace(\"%cmd%\", command) + \"```\"\n                        });\n                    }\n                }\n                else {\n                    bot.sendMessage(message.channel, {\n                        message: \"That command doesn't exist! Try running `\" + bot.config.commandPrefix + \"help` for a list of commands.\",\n                        mention: message.author\n                    });\n                }\n            }\n        }\n    }\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Message;\n"],"sourceRoot":"/source/"}